# VRC Calendar Discord Bot - 使い方ガイド

Discordで自然言語を使って予定を管理できるBotです。Googleカレンダーと連携し、チーム全体で予定を共有できます。

## クイックスタート

### 基本コマンド

| コマンド | 説明 |
|---------|------|
| `/予定 [メッセージ]` | 予定の追加・編集・削除・検索 |
| `/今週の予定` | 今週の予定一覧を表示 |
| `/予定一覧` | 登録されている繰り返し予定の一覧 |
| `/ヘルプ` | Botの使い方を表示 |

### 管理コマンド

| コマンド | 説明 |
|---------|------|
| `/色一覧` `/色追加` `/色削除` | 色プリセットの管理 |
| `/タググループ一覧` `/タググループ追加` `/タググループ削除` | タググループの管理 |
| `/タグ追加` `/タグ削除` | タグの管理 |
| `/カレンダー一覧` `/カレンダー追加` `/カレンダー使用` | カレンダー設定 |
| `/凡例更新` | 色/タグの凡例イベントを更新 |

## 予定の追加

### 毎週の予定

```
/予定 毎週水曜日の14時に定例会議を追加
```

```
/予定 毎週金曜20時からチームミーティング
```

### 隔週の予定

```
/予定 隔週月曜10時に1on1ミーティングを追加
```

### 第n週の予定

```
/予定 第2・第4水曜日の14時に定例MTGを追加
```

```
/予定 第1金曜日の19時に月初会議
```

### タグ付きの予定

```
/予定 毎週火曜15時にチームミーティング、タグは重要
```

```
/予定 第3木曜20時に勉強会、タグはチームミーティング、個人
```

### 所要時間の指定

```
/予定 毎週水曜14時に定例会議、2時間
```

```
/予定 隔週金曜19時にゲーム会、3時間
```

## 予定の検索

### 今週の予定を確認

```
/今週の予定
```

または

```
/予定 今週の予定を教えて
```

### 来週の予定を確認

```
/予定 来週の予定は？
```

### 今日の予定

```
/予定 今日の予定を確認
```

### タグで検索

```
/予定 チームミーティングの予定を検索
```

```
/予定 重要な予定を表示
```

### 名前で検索

```
/予定 定例会議の予定を探して
```

## 予定の編集

### 時刻の変更

```
/予定 定例会議を15時に変更
```

### 説明の追加

```
/予定 定例会議の説明を「進捗確認」に更新
```

## 予定の削除

```
/予定 定例会議を削除
```

```
/予定 勉強会をキャンセル
```

## 自然言語の例

Botは様々な日本語表現を理解します。

### 追加の表現

- 「〜を追加」
- 「〜を登録」
- 「〜を作成」
- 「〜を入れて」
- 「〜があります」

### 検索の表現

- 「〜を教えて」
- 「〜を確認」
- 「〜を表示」
- 「〜は？」
- 「〜を検索」
- 「〜を探して」

### 削除の表現

- 「〜を削除」
- 「〜をキャンセル」
- 「〜を取り消し」
- 「〜をなくして」

### 編集の表現

- 「〜を変更」
- 「〜を更新」
- 「〜を修正」
- 「〜に変えて」

## 繰り返しパターン

### 毎週

毎週同じ曜日に繰り返す予定。

```
毎週水曜日 → 毎週水曜日に予定を作成
```

### 隔週

2週間に1回繰り返す予定。

```
隔週金曜日 → 2週間ごとの金曜日に予定を作成
```

### 第n週

毎月特定の週のみに繰り返す予定。

```
第2水曜日 → 毎月第2週の水曜日のみ
第2・第4水曜日 → 毎月第2週と第4週の水曜日
第1・第3金曜日 → 毎月第1週と第3週の金曜日
```

## 週次通知

毎週月曜日の朝9時（JST）に、その週の予定一覧が自動的にチャンネルに投稿されます。

通知例：
```
🔔 今週の予定通知

📅 今週の予定
──────────────
01/27 (月)
⏰ 10:00 - 1on1ミーティング

01/29 (水)
⏰ 14:00 - 定例会議 [チームミーティング]

01/31 (金)
⏰ 20:00 - ゲーム会

予定の追加・管理は /予定 コマンドから
```

## タグの活用

タグを使うと予定を分類でき、検索が便利になります。

### タググループの管理

タグはグループで管理されます（サーバーごとに最大3グループ）。

```
/タググループ一覧          # タググループとタグの一覧表示
/タググループ追加 名前:カテゴリ 説明:予定のカテゴリ
/タググループ削除 ID:1     # グループIDを指定して削除
/タグ追加 グループID:1 名前:重要 説明:優先度の高い予定
/タグ削除 グループID:1 名前:重要
```

### よく使うタグ例

| タグ | 用途 | Googleカレンダーでの色 |
|------|------|----------------------|
| 重要 | 優先度の高い予定 | 赤 |
| チームミーティング | チーム全体の会議 | 青 |
| 個人 | 個人的な予定 | 緑 |

### タグで検索

```
/予定 重要タグの予定を検索
```

## 色の管理

Googleカレンダーの予定に色を付けることができます。

### 色プリセットの管理

```
/色一覧                      # 登録済みの色プリセットとGoogleカラーIDを表示
/色追加 名前:重要 カラーID:11 説明:赤色で表示
/色削除 名前:重要
```

### GoogleカレンダーのカラーID

| ID | 色 |
|----|-----|
| 1 | ラベンダー |
| 2 | セージ |
| 3 | ブドウ |
| 4 | フラミンゴ |
| 5 | バナナ |
| 6 | ミカン |
| 7 | ピーコック |
| 8 | グラファイト |
| 9 | ブルーベリー |
| 10 | バジル |
| 11 | トマト |

### 予定に色を設定

```
/予定 毎週水曜14時に定例会議を追加、色は重要
```

## カレンダー設定

サーバーごとに異なるGoogleカレンダーを使用できます。

### カレンダーアカウントの管理

```
/カレンダー一覧                 # このサーバーのカレンダー一覧
/カレンダー追加 名前:メイン カレンダーID:abc123@group.calendar.google.com
/カレンダー使用 ID:1            # このサーバーで使用するカレンダーを設定
```

> **注意**: カレンダーを追加する前に、サービスアカウントにカレンダーの編集権限を付与してください。

## Googleカレンダーとの連携

登録した予定はGoogleカレンダーにも自動的に作成されます。

- Discord Bot → Googleカレンダー：自動同期
- Googleカレンダー → Discord Bot：手動更新が必要

## トラブルシューティング

### コマンドが認識されない

Botが起動中の場合、コールドスタートにより10-30秒かかることがあります。少し待ってから再試行してください。

### 「曜日を特定できませんでした」エラー

予定を追加する際は、曜日を明確に指定してください。

❌ `14時に会議を追加`
⭕ `毎週水曜14時に会議を追加`

### 予定が見つからない

予定名は部分一致で検索されます。正確な名前がわからない場合は、一部のキーワードで検索してください。

```
/予定 会議の予定を検索
```

### 予定が重複する

同じ予定を複数回追加すると、重複して登録されます。削除してから再登録するか、編集コマンドを使用してください。

## コマンドのヒント

1. **自然に話しかける**: 「〜して」「〜教えて」など、普段の会話のように入力できます

2. **曖昧な表現を避ける**: 日時は具体的に指定すると正確に処理されます

3. **エラー時は言い換え**: 認識されない場合は、別の表現で試してみてください

4. **一度に1つの操作**: 複数の操作を同時に行う場合は、分けて入力してください

## フィードバック

Botの改善提案やバグ報告は、プロジェクトのIssueで受け付けています。
